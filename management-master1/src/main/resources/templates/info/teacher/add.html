<!DOCTYPE html>
<html lang="zh" xmlns:th="http://www.thymeleaf.org" >
<head>
    <th:block th:include="include :: header('新增教师')" />
    <th:block th:include="include :: bootstrap-select-css" />
</head>
<body>
<div class="main-content">
    <form id="form-teacher-add" class="form-horizontal">
        <h4 class="form-header h4">基本信息</h4>
        <div class="row">
            <div class="col-sm-6">
                <div class="form-group">
                    <label class="col-sm-4 control-label is-required">登录账号：</label>
                    <div class="col-sm-8">
                        <input id="userId" name="userId" placeholder="请输入手机号码" class="form-control" type="text" maxlength="11" required>
                    </div>
                </div>
            </div>
            <div class="col-sm-6">
                <div class="form-group">
                    <label class="col-sm-4 control-label is-required">姓&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;名：</label>
                    <div class="col-sm-8">
                        <input id="userName" name="userName" placeholder="请输入姓名" class="form-control" type="text" maxlength="30" required>
                    </div>
                </div>
            </div>
        </div>
    </form>
</div>

<th:block th:include="include :: footer" />
<th:block th:include="include :: bootstrap-select-js" />
<script th:inline="javascript">
    var prefix = ctx + "info/teacher";

    $(function () {
        $(function () { $("[data-toggle='tooltip']").tooltip(); });
    });

    $("#form-teacher-add").validate({
        onkeyup: false,
        rules:{
            // userId:{
            //     isPhone:true,
            //     minlength: 11,
            //     maxlength: 11,
            //     remote: {
            //         url: prefix + "/checkUserIdUnique",
            //         type: "post",
            //         dataType: "json",
            //         data: {
            //             "userId": function() {
            //                 return $.common.trim($("#userId").val());
            //             }
            //         },
            //         dataFilter: function(data, type) {
            //             return $.validate.unique(data);
            //         }
            //     }
            // }
        },
        messages: {
            "userId": {
                remote: "用户已经存在"
            }
        },
        focusCleanup: true
    });

    function submitHandler() {
        if ($.validate.form()) {
            var data = $("#form-teacher-add").serializeArray();
            data.push({"name": "subjectId", "value": parent.$("#subjectId").val()});
            $.operate.save(prefix + "/add", data);
        }
    }

</script>
</body>
</html>